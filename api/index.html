<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>janitoo_dhcp package &mdash; janitoo_dhcp 0.0.7 documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinxcontrib-images/LightBox2/lightbox2/css/lightbox.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.3.4/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2/js/lightbox.min.js"></script>
    <script type="text/javascript" src="../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="janitoo_dhcp 0.0.7 documentation" href="../index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          janitoo_dhcp</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.7</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../tools/index.html">Tools</a></li>
                <li><a href="#">Reference</a></li>
                <li><a href="../extensions/index.html">Janitoo extensions</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="simple">
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="janitoo-dhcp-package">
<h1>janitoo_dhcp package<a class="headerlink" href="#janitoo-dhcp-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-janitoo_dhcp.dhclient">
<span id="janitoo-dhcp-dhclient-module"></span><h2>janitoo_dhcp.dhclient module<a class="headerlink" href="#module-janitoo_dhcp.dhclient" title="Permalink to this headline">¶</a></h2>
<p>The dhcp controller client</p>
<p>At start, the controller must get new or lock leases for himself and its nodes.
It must also send heartbeat to the dhpc server.
At the end, it must release all leases</p>
<p>How we should use it :</p>
<ul class="simple">
<li>openzwave : nodes appears on notification, can be added to network by external commands.</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>when node has its essential informations, we check</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>roomba : need an ip address, a user and a password.</li>
</ul>
<blockquote>
<div><ul class="simple">
<li>at first start, the roomba server has no hadd for its controller. So it request a new one.</li>
<li>After, the server will lock all leases for himself and its nodes usinf (add_ctrl,-1). He will receive lease for itsel and all its nodes at a time.</li>
</ul>
<dl class="docutils">
<dt>To add a new node :</dt>
<dd><ul class="first last simple">
<li>the controller has subscribed to /machines/config/add_ctrl:#</li>
<li>the core check that command_class add_node is implemented by the controller and retrieve all types of nodes that can be added.</li>
<li>the core get config parameters for this type of node from the crontoller (use values config of zwave)</li>
<li>the core get parameters from user</li>
<li>the core create the lease with user values on the dhcpd server.</li>
<li>the dhcp server create the lease for hadd and publish message to /machines/config/hadd</li>
<li>the controller receive the config on /machines/config/add_ctrl:add_node and start the node</li>
</ul>
</dd>
<dt>To update a node :</dt>
<dd><ul class="first last simple">
<li>the controller has subscribed to /machines/config/add_ctrl:#</li>
<li>the core resolv_hadd from the dhcp server</li>
<li>the core get config parameters for this node from the crontoller (use values config of zwave)</li>
<li>the core get new parameters from user</li>
<li>the core repair_lease with user values on the dhcpd server.</li>
<li>the dhcp server update the lease for hadd and publish message to /machines/config/hadd</li>
<li>the controller receive the config on /machines/config/add_ctrl:add_node and update the node/controller</li>
</ul>
</dd>
</dl>
</div></blockquote>
<dl class="docutils">
<dt>Boot sequence:</dt>
<dd><p class="first">if the controller has no previous hadd, get a new one and release it</p>
<dl class="last docutils">
<dt>if one :</dt>
<dd><ul class="first last simple">
<li>subscribe to /machines/config/add_ctrl:#</li>
<li>on message : update name, locaton, if needed we can restart the node ...</li>
<li>lock the hadd : add_ctrl:-1 : this</li>
</ul>
</dd>
</dl>
</dd>
</dl>
<dl class="class">
<dt id="janitoo_dhcp.dhclient.DHCPClient">
<em class="property">class </em><tt class="descclassname">janitoo_dhcp.dhclient.</tt><tt class="descname">DHCPClient</tt><big>(</big><em>options</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/dhclient.html#DHCPClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.dhclient.DHCPClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>The Dynamic Home Configuration Protocol client</p>
<dl class="method">
<dt id="janitoo_dhcp.dhclient.DHCPClient.lock_dhcpc">
<tt class="descname">lock_dhcpc</tt><big>(</big><em>add_node</em>, <em>callback</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/dhclient.html#DHCPClient.lock_dhcpc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.dhclient.DHCPClient.lock_dhcpc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an HADD fron the DHCP server and launch callback at the end of the process</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.dhclient.DHCPClient.new_dhcpc">
<tt class="descname">new_dhcpc</tt><big>(</big><em>add_node</em>, <em>callback</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/dhclient.html#DHCPClient.new_dhcpc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.dhclient.DHCPClient.new_dhcpc" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a new HADD fron the DHCP server and launch callback at the end of the process</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.dhclient.DHCPClient.release_dhcpc">
<tt class="descname">release_dhcpc</tt><big>(</big><em>add_node</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/dhclient.html#DHCPClient.release_dhcpc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.dhclient.DHCPClient.release_dhcpc" title="Permalink to this definition">¶</a></dt>
<dd><p>Release the HADD</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-janitoo_dhcp.lease">
<span id="janitoo-dhcp-lease-module"></span><h2>janitoo_dhcp.lease module<a class="headerlink" href="#module-janitoo_dhcp.lease" title="Permalink to this headline">¶</a></h2>
<p>The dhcp lease manager</p>
<p>About the sleeping nodes: should have the sleeping capability</p>
<p>Add capabilites</p>
<dl class="class">
<dt id="janitoo_dhcp.lease.LeaseManager">
<em class="property">class </em><tt class="descclassname">janitoo_dhcp.lease.</tt><tt class="descname">LeaseManager</tt><big>(</big><em>options</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>The leases manager</p>
<p>Can be used in dynammic mode (with start, stop and a db session or in dynamic mode to keep the states of modes in memory (calling check_heartbeat) periodically.</p>
<dl class="docutils">
<dt>About the sqlalchemy session object :</dt>
<dd><ul class="first last simple">
<li>Use transaction</li>
<li>We will receive a gret number of ping_in messages. If we commit on each, we will create some extra db work that can be annoying on raspberry pi.</li>
<li>we will store ping message in a cache and commit them to database on check_ping</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.check_heartbeat">
<tt class="descname">check_heartbeat</tt><big>(</big><em>session=None</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.check_heartbeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.check_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the states of the machine. Must be called in a timer
Called in a separate thread. Must use a scoped_session.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>session</strong> (<em>sqlalchemy session</em>) &#8211; the session to use to communicate with db. May be a scoped_session if used in a separate tread. If None, use the common session.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.heartbeat_hadd">
<tt class="descname">heartbeat_hadd</tt><big>(</big><em>add_ctrl</em>, <em>add_node</em>, <em>state='ONLINE'</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.heartbeat_hadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.heartbeat_hadd" title="Permalink to this definition">¶</a></dt>
<dd><p>A machine heartbeat us</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>add_ctrl</strong> (<em>Integer</em>) &#8211; the controller part of the address</li>
<li><strong>add_node</strong> (<em>Integer</em>) &#8211; the node part of the address. 0 for controller, -1 for all nodes managed by controller.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.lock_lease">
<tt class="descname">lock_lease</tt><big>(</big><em>add_ctrl</em>, <em>add_node</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.lock_lease"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.lock_lease" title="Permalink to this definition">¶</a></dt>
<dd><p>Lock a lease already in database. We should manage the case of a db crash.
Also update last_seen to now and state to boot</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>add_ctrl</strong> (<em>Integer</em>) &#8211; the controller part of the address</li>
<li><strong>add_node</strong> (<em>Integer</em>) &#8211; the node part of the address. 0 for controller.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dict with all informations</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.new_lease">
<tt class="descname">new_lease</tt><big>(</big><em>add_ctrl</em>, <em>add_node</em>, <em>options</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.new_lease"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.new_lease" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a new lease
return add_ctrl, add_node, options</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>add_ctrl</strong> (<em>Integer</em>) &#8211; the controller part of the address</li>
<li><strong>add_node</strong> (<em>Integer</em>) &#8211; the node part of the address. 0 for controller</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dict with all informations</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.release_lease">
<tt class="descname">release_lease</tt><big>(</big><em>add_ctrl</em>, <em>add_node</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.release_lease"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.release_lease" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a lease. When a controller / node shutdown, it must release its nodes. Set the state to offline
return false or true</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>add_ctrl</strong> (<em>Integer</em>) &#8211; the controller part of the address</li>
<li><strong>add_node</strong> (<em>Integer</em>) &#8211; the node part of the address. 0 for controller, -1 for all nodes managed by controller.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.remove_lease">
<tt class="descname">remove_lease</tt><big>(</big><em>add_ctrl</em>, <em>add_node</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.remove_lease"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.remove_lease" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a lease from db</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>add_ctrl</strong> (<em>Integer</em>) &#8211; the controller part of the address</li>
<li><strong>add_node</strong> (<em>Integer</em>) &#8211; the node part of the address. 0 for controller, -1 for all nodes managed by controller.</li>
<li><strong>state</strong> (<em>String</em>) &#8211; the state of the node.</li>
<li><strong>last_seen</strong> (<a class="reference external" href="http://docs.python.org/library/datetime.html#module-datetime" title="(in Python v2.7)"><em>datetime</em></a>) &#8211; the last time the node have been seen.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dict</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.repair_lease">
<tt class="descname">repair_lease</tt><big>(</big><em>add_ctrl</em>, <em>add_node</em>, <em>options</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.repair_lease"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.repair_lease" title="Permalink to this definition">¶</a></dt>
<dd><p>Repair a lease. If the dhcpd database is lost, some client can send their adress and some other informations to rebuid it.
Also update last_seen to now and state to boot</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>add_ctrl</strong> (<em>Integer</em>) &#8211; the controller part of the address</li>
<li><strong>add_node</strong> (<em>Integer</em>) &#8211; the node part of the address. 0 for controller</li>
<li><strong>options</strong> (<em>dict()</em>) &#8211; the options for the lease</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.resolv_cmd_classes">
<tt class="descname">resolv_cmd_classes</tt><big>(</big><em>cmd_classes=</em><span class="optional">[</span><span class="optional">]</span><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.resolv_cmd_classes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.resolv_cmd_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolv a cmd_classes to lease(s)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extras</strong> (<em>[]</em>) &#8211; The extra inforamtions to add</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict()</td>
</tr>
</tbody>
</table>
<p>return [add_ctrl, add_node, options]</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.resolv_hadd">
<tt class="descname">resolv_hadd</tt><big>(</big><em>add_ctrl</em>, <em>add_node</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.resolv_hadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.resolv_hadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolv an address to lease</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>add_ctrl</strong> (<em>Integer</em>) &#8211; the controller part of the address</li>
<li><strong>add_node</strong> (<em>Integer</em>) &#8211; the node part of the address. 0 for controller</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A dict with all informations</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict()</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.resolv_name">
<tt class="descname">resolv_name</tt><big>(</big><em>name=None, location=None, options=['all']</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.resolv_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.resolv_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Resolv a name, location to lease(s)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extras</strong> (<em>[]</em>) &#8211; The extra inforamtions to add</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict()</td>
</tr>
</tbody>
</table>
<p>return [add_ctrl, add_node, options]</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.start">
<tt class="descname">start</tt><big>(</big><em>dbsession</em>, <em>cache</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the lease manager in db mode</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extras</strong> (<em>[]</em>) &#8211; The extra inforamtions to add</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict()</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.lease.LeaseManager.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/lease.html#LeaseManager.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.lease.LeaseManager.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the lease manager</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>extras</strong> (<em>[]</em>) &#8211; The extra inforamtions to add</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dict</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict()</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-janitoo_dhcp.models">
<span id="janitoo-dhcp-models-module"></span><h2>janitoo_dhcp.models module<a class="headerlink" href="#module-janitoo_dhcp.models" title="Permalink to this headline">¶</a></h2>
<p>The models</p>
<dl class="class">
<dt id="janitoo_dhcp.models.Lease">
<em class="property">class </em><tt class="descclassname">janitoo_dhcp.models.</tt><tt class="descname">Lease</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#janitoo_dhcp.models.Lease" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.ext.declarative.api.Base</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">janitoo_db.helpers.CRUDMixin</span></tt></p>
<dl class="attribute">
<dt id="janitoo_dhcp.models.Lease.add_ctrl">
<tt class="descname">add_ctrl</tt><a class="headerlink" href="#janitoo_dhcp.models.Lease.add_ctrl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.Lease.add_node">
<tt class="descname">add_node</tt><a class="headerlink" href="#janitoo_dhcp.models.Lease.add_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.models.Lease.classes">
<tt class="descname">classes</tt><big>(</big><big>)</big><a class="headerlink" href="#janitoo_dhcp.models.Lease.classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.Lease.cmd_classes">
<tt class="descname">cmd_classes</tt><a class="headerlink" href="#janitoo_dhcp.models.Lease.cmd_classes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.Lease.last_seen">
<tt class="descname">last_seen</tt><a class="headerlink" href="#janitoo_dhcp.models.Lease.last_seen" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.Lease.location">
<tt class="descname">location</tt><a class="headerlink" href="#janitoo_dhcp.models.Lease.location" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.Lease.name">
<tt class="descname">name</tt><a class="headerlink" href="#janitoo_dhcp.models.Lease.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.Lease.params">
<tt class="descname">params</tt><a class="headerlink" href="#janitoo_dhcp.models.Lease.params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.Lease.state">
<tt class="descname">state</tt><a class="headerlink" href="#janitoo_dhcp.models.Lease.state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="janitoo_dhcp.models.LeaseParam">
<em class="property">class </em><tt class="descclassname">janitoo_dhcp.models.</tt><tt class="descname">LeaseParam</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#janitoo_dhcp.models.LeaseParam" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.ext.declarative.api.Base</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">janitoo_db.helpers.CRUDMixin</span></tt></p>
<dl class="attribute">
<dt id="janitoo_dhcp.models.LeaseParam.add_ctrl">
<tt class="descname">add_ctrl</tt><a class="headerlink" href="#janitoo_dhcp.models.LeaseParam.add_ctrl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.LeaseParam.add_node">
<tt class="descname">add_node</tt><a class="headerlink" href="#janitoo_dhcp.models.LeaseParam.add_node" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.LeaseParam.key">
<tt class="descname">key</tt><a class="headerlink" href="#janitoo_dhcp.models.LeaseParam.key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="janitoo_dhcp.models.LeaseParam.value">
<tt class="descname">value</tt><a class="headerlink" href="#janitoo_dhcp.models.LeaseParam.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="janitoo_dhcp.models.extend">
<tt class="descclassname">janitoo_dhcp.models.</tt><tt class="descname">extend</tt><big>(</big><em>jntmodel</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/models.html#extend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.models.extend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-janitoo_dhcp.network">
<span id="janitoo-dhcp-network-module"></span><h2>janitoo_dhcp.network module<a class="headerlink" href="#module-janitoo_dhcp.network" title="Permalink to this headline">¶</a></h2>
<p>The Node</p>
<dl class="docutils">
<dt>about the pollinh mechanism :</dt>
<dd><ul class="first last simple">
<li>simplest way to do it : define a poll_thread_timer for every value that needed to publish its data</li>
<li>Add a kind of polling queue that will launch the method to get and publish the value</li>
</ul>
</dd>
</dl>
<dl class="class">
<dt id="janitoo_dhcp.network.DhcpNetwork">
<em class="property">class </em><tt class="descclassname">janitoo_dhcp.network.</tt><tt class="descname">DhcpNetwork</tt><big>(</big><em>stop_event</em>, <em>options</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/network.html#DhcpNetwork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.network.DhcpNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">janitoo.dhcp.JNTNetwork</span></tt></p>
<p>The network manager for the flask application</p>
<dl class="method">
<dt id="janitoo_dhcp.network.DhcpNetwork.emit_network">
<tt class="descname">emit_network</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/network.html#DhcpNetwork.emit_network"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.network.DhcpNetwork.emit_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit a network state event</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.network.DhcpNetwork.extend_from_entry_points">
<tt class="descname">extend_from_entry_points</tt><big>(</big><em>group</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/network.html#DhcpNetwork.extend_from_entry_points"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.network.DhcpNetwork.extend_from_entry_points" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8220;Extend the network with methods found in entrypoints</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-janitoo_dhcp.server">
<span id="janitoo-dhcp-server-module"></span><h2>janitoo_dhcp.server module<a class="headerlink" href="#module-janitoo_dhcp.server" title="Permalink to this headline">¶</a></h2>
<p>The dhcp server</p>
<dl class="class">
<dt id="janitoo_dhcp.server.DHCPServer">
<em class="property">class </em><tt class="descclassname">janitoo_dhcp.server.</tt><tt class="descname">DHCPServer</tt><big>(</big><em>options</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">janitoo_db.server.JNTDBServer</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">janitoo.server.JNTControllerManager</span></tt></p>
<p>The Dynamic Home Configuration Protocol Server</p>
<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.check_heartbeat">
<tt class="descname">check_heartbeat</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.check_heartbeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.check_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the states of the machines. Must be called in a timer
Called in a separate thread. Must use a scoped_session.</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_heartbeat">
<tt class="descname">mqtt_on_heartbeat</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_heartbeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd><p>On heartbeat message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_lease_lock">
<tt class="descname">mqtt_on_lease_lock</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_lease_lock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_lease_lock" title="Permalink to this definition">¶</a></dt>
<dd><p>On lease lock message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_lease_new">
<tt class="descname">mqtt_on_lease_new</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_lease_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_lease_new" title="Permalink to this definition">¶</a></dt>
<dd><p>On generic message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_lease_release">
<tt class="descname">mqtt_on_lease_release</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_lease_release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_lease_release" title="Permalink to this definition">¶</a></dt>
<dd><p>On lease release message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_lease_remove">
<tt class="descname">mqtt_on_lease_remove</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_lease_remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_lease_remove" title="Permalink to this definition">¶</a></dt>
<dd><p>On generic message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_lease_repair">
<tt class="descname">mqtt_on_lease_repair</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_lease_repair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_lease_repair" title="Permalink to this definition">¶</a></dt>
<dd><p>On lease repair message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_message">
<tt class="descname">mqtt_on_message</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_message" title="Permalink to this definition">¶</a></dt>
<dd><p>On generic message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_resolv_cmd_classes">
<tt class="descname">mqtt_on_resolv_cmd_classes</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_resolv_cmd_classes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_resolv_cmd_classes" title="Permalink to this definition">¶</a></dt>
<dd><p>On generic message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_resolv_hadd">
<tt class="descname">mqtt_on_resolv_hadd</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_resolv_hadd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_resolv_hadd" title="Permalink to this definition">¶</a></dt>
<dd><p>On resolv hadd message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.mqtt_on_resolv_name">
<tt class="descname">mqtt_on_resolv_name</tt><big>(</big><em>client</em>, <em>userdata</em>, <em>message</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.mqtt_on_resolv_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.mqtt_on_resolv_name" title="Permalink to this definition">¶</a></dt>
<dd><p>On generic message</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>client</strong> (<em>paho.mqtt.client.Client</em>) &#8211; the Client instance that is calling the callback.</li>
<li><strong>userdata</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#all" title="(in Python v2.7)"><em>all</em></a>) &#8211; user data of any type and can be set when creating a new client instance or with user_data_set(userdata).</li>
<li><strong>message</strong> (<em>paho.mqtt.client.MQTTMessage</em>) &#8211; The message variable is a MQTTMessage that describes all of the message parameters.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.publish_reply">
<tt class="descname">publish_reply</tt><big>(</big><em>uuid</em>, <em>payload=None</em>, <em>qos=0</em>, <em>retain=False</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.publish_reply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.publish_reply" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish an uid reply to clients.</p>
<p>This causes a message to be sent to the broker and subsequently from
the broker to any clients subscribing to matching topics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uuid</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The uuid sent in the request.</li>
<li><strong>payload</strong> (<em>message</em>) &#8211; The actual message to send. If not given, or set to None a
zero length message will be used. Passing an int or float will result
in the payload being converted to a string representing that number. If
you wish to send a true int/float, use struct.pack() to create the
payload you require.</li>
<li><strong>qos</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The quality of service level to use.</li>
<li><strong>retain</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; If set to true, the message will be set as the &#8220;last known good&#8221;/retained message for the topic.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.publish_stats">
<tt class="descname">publish_stats</tt><big>(</big><em>stat</em>, <em>value=None</em>, <em>qos=0</em>, <em>retain=False</em><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.publish_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.publish_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish a message on a topic.</p>
<p>This causes a message to be sent to the broker and subsequently from
the broker to any clients subscribing to matching topics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>stat</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The stat to send.</li>
<li><strong>value</strong> (<em>message</em>) &#8211; the value of the stat</li>
<li><strong>qos</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; The quality of service level to use.</li>
<li><strong>retain</strong> (<a class="reference external" href="http://docs.python.org/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; If set to true, the message will be set as the &#8220;last known good&#8221;/retained message for the topic.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.reload">
<tt class="descname">reload</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the server</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.resolv_heartbeat">
<tt class="descname">resolv_heartbeat</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.resolv_heartbeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.resolv_heartbeat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.start">
<tt class="descname">start</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the DHCP Server</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.start_threads">
<tt class="descname">start_threads</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.start_threads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.start_threads" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the threads associated to this server.</p>
</dd></dl>

<dl class="method">
<dt id="janitoo_dhcp.server.DHCPServer.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/janitoo_dhcp/server.html#DHCPServer.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#janitoo_dhcp.server.DHCPServer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the DHCP Server</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-janitoo_dhcp">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-janitoo_dhcp" title="Permalink to this headline">¶</a></h2>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2015, Sébastien GALLET aka bibi2100 &lt;bibi21000@gmail.com&gt;.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>